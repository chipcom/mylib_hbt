#include "function.ch"

Static mas_lr := {{"3","З"},;
                  {"0","О"},;
                  {"A","А"},;
                  {"B","В"},;
                  {"C","С"},;
                  {"D","Д"},;
                  {"E","Е"},;
                  {"F","Ф"},;
                  {"G","Г"},;
                  {"H","Н"},;
                  {"I","И"},;
                  {"J","Ж"},;
                  {"K","К"},;
                  {"L","Л"},;
                  {"M","М"},;
                  {"N","Н"},;
                  {"O","О"},;
                  {"P","Р"},;
                  {"Q","О"},;
                  {"R","Р"},;
                  {"S","С"},;
                  {"T","Т"},;
                  {"U","У"},;
                  {"V","В"},;
                  {"W","Ш"},;
                  {"X","Х"},;
                  {"Y","У"},;
                  {"Z","З"},;
                  {"a","а"},;
                  {"b","б"},;
                  {"c","с"},;
                  {"d","д"},;
                  {"e","е"},;
                  {"f","ф"},;
                  {"g","д"},;
                  {"h","н"},;
                  {"i","и"},;
                  {"j","ж"},;
                  {"k","к"},;
                  {"l","л"},;
                  {"m","м"},;
                  {"n","п"},;
                  {"o","о"},;
                  {"p","р"},;
                  {"q","д"},;
                  {"r","г"},;
                  {"s","с"},;
                  {"t","т"},;
                  {"u","и"},;
                  {"v","в"},;
                  {"w","ш"},;
                  {"x","х"},;
                  {"y","у"},;
                  {"z","з"}}

***** попытаться в строке заменить все латинские буквы на русские (Ф.И.О.)
Function DelLatLetter(_s1,_k)
Local i, j, c, _s2 := ""
// _k = 1 - проверяем весь массив
// _k = 2 - проверяем массив, начиная с 3-го элемента (без цифр)
DEFAULT _k TO 1
for i := 1 to len(_s1)
  c := substr(_s1,i,1)
  if (j := ascan(mas_lr, {|x| x[1] == c})) > 0 .and. iif(_k==1, .t., j > 2)
    c := mas_lr[j,2]
  endif
  _s2 += c
next
return _s2
